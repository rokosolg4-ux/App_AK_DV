<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK OS | –°–∫–ª–∞–¥</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e1e; /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
            color: #ffffff;
            padding: 20px;
        }
        h1 {
            color: #00d4ff; /* –ù–µ–æ–Ω–æ–≤—ã–π –≥–æ–ª—É–±–æ–π */
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #2d2d2d;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #444;
        }
        th {
            background-color: #333;
            color: #00d4ff;
        }
        tr:hover {
            background-color: #3a3a3a;
        }
        .price {
            color: #00ff9d; /* –ó–µ–ª–µ–Ω–∞—è —Ü–µ–Ω–∞ */
            font-weight: bold;
        }
        .qty {
            font-weight: bold;
            color: #ffcc00; /* –ñ–µ–ª—Ç—ã–π –æ—Å—Ç–∞—Ç–æ–∫ */
        }
    </style>
</head>
<body>

    <h1>üöÄ –ê–í–¢–û–ö–†–ê–°–ö–ò –î–í | –°–∫–ª–∞–¥ Online</h1>

    <table id="stockTable">
        <thead>
            <tr>
                <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</th>
                <th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th>
                <th>–ê—Ä—Ç–∏–∫—É–ª</th>
                <th>–û—Å—Ç–∞—Ç–æ–∫</th>
                <th>–¶–µ–Ω–∞</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <tr><td colspan="5">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
        </tbody>
    </table>

    <script>
        // –ê–î–†–ï–° –¢–í–û–ï–ì–û –ë–≠–ö–ï–ù–î–ê
        const API_URL = 'http://193.124.9.12:3000/api/stock';

        async function loadStock() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();
                
                const tbody = document.getElementById('tableBody');
                tbody.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç—å "–ó–∞–≥—Ä—É–∑–∫–∞..."

                data.forEach(item => {
                    const row = `
                        <tr>
                            <td>${item.product_name}</td>
                            <td>${item.variant}</td>
                            <td>${item.sku || '-'}</td>
                            <td class="qty">${item.qty} —à—Ç</td>
                            <td class="price">${item.price} ‚ÇΩ</td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('tableBody').innerHTML = 
                    '<tr><td colspan="5" style="color:red">–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É!</td></tr>';
            }
        }

        // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        loadStock();
    </script>

</body>
</html>
